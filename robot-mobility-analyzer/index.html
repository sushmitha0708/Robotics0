<!DOCTYPE html>
<html lang="en">
<head>

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Robot Mobility Analyzer</title>

<!-- Stable PyScript -->
<link rel="stylesheet"
href="https://pyscript.net/latest/pyscript.css">

<script defer
src="https://pyscript.net/latest/pyscript.js"></script>

<link rel="stylesheet" href="style.css">

</head>

<body>

<h1>Robot Mobility Analyzer</h1>

<div class="container">

<div class="controls">

<label>Links (N)</label>
<input type="number" id="links" value="4">

<label>Joints (J)</label>
<input type="number" id="joints" value="3">

<label>Loops (L)</label>
<input type="number" id="loops" value="0">

<label>System Type</label>

<select id="system">
<option value="Planar">Planar</option>
<option value="Spatial">Spatial</option>
</select>

<button id="createBtn">Create Joints</button>

<div id="joint-container"></div>

<button id="analyzeBtn">Analyze Mobility</button>

</div>

<div>

<canvas id="robotCanvas"
width="700"
height="400"></canvas>

<pre id="output"></pre>

</div>

</div>

<!-- Load Python -->
<py-script src="./mobility.py"></py-script>

<!-- Connect buttons AFTER PyScript loads -->
<script>

document.addEventListener("py:ready", function(){

    document.getElementById("createBtn").onclick =
        pyscript.interpreter.globals.get("create_joints")

    document.getElementById("analyzeBtn").onclick =
        pyscript.interpreter.globals.get("analyze")

})

</script>

</body>
</html>
